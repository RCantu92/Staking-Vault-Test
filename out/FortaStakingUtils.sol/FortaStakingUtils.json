{"abi":[],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220cba984388b64730c0c7e70bda6358f131fb3646ae7c7ba9d8ad889831c367c4364736f6c63430008170033","sourceMap":"167:2664:71:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;167:2664:71;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220cba984388b64730c0c7e70bda6358f131fb3646ae7c7ba9d8ad889831c367c4364736f6c63430008170033","sourceMap":"167:2664:71:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/utils/FortaStakingUtils.sol\":\"FortaStakingUtils\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/\",\":solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/\"]},\"sources\":{\"src/utils/FortaStakingUtils.sol\":{\"keccak256\":\"0x6cf2b85b6363a3f65471610db84859f10644b3c37a111aa96620833eb455da92\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://d04ef1c8c07dd0d47cda5eec4769097ee32247fc3b316c5360962f37d0c173a5\",\"dweb:/ipfs/QmTpjfDFp4V41yV52UzhZwUKM5t5TGyEQHXEybjB2BuuWZ\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts-upgradeable/lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-foundry-upgrades/=lib/openzeppelin-foundry-upgrades/src/","solidity-stringutils/=lib/openzeppelin-foundry-upgrades/lib/solidity-stringutils/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/utils/FortaStakingUtils.sol":"FortaStakingUtils"},"evmVersion":"paris","libraries":{}},"sources":{"src/utils/FortaStakingUtils.sol":{"keccak256":"0x6cf2b85b6363a3f65471610db84859f10644b3c37a111aa96620833eb455da92","urls":["bzz-raw://d04ef1c8c07dd0d47cda5eec4769097ee32247fc3b316c5360962f37d0c173a5","dweb:/ipfs/QmTpjfDFp4V41yV52UzhZwUKM5t5TGyEQHXEybjB2BuuWZ"],"license":"UNLICENSED"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"src/utils/FortaStakingUtils.sol","id":60289,"exportedSymbols":{"FortaStakingUtils":[60288]},"nodeType":"SourceUnit","src":"142:2690:71","nodes":[{"id":60154,"nodeType":"PragmaDirective","src":"142:23:71","nodes":[],"literals":["solidity","^","0.8",".9"]},{"id":60288,"nodeType":"ContractDefinition","src":"167:2664:71","nodes":[{"id":60189,"nodeType":"FunctionDefinition","src":"624:219:71","nodes":[],"body":{"id":60188,"nodeType":"Block","src":"717:126:71","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60186,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60175,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"arguments":[{"id":60169,"name":"subjectType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60157,"src":"770:11:71","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},{"id":60170,"name":"subject","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60159,"src":"783:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":60167,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"753:3:71","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":60168,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"757:12:71","memberName":"encodePacked","nodeType":"MemberAccess","src":"753:16:71","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":60171,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"753:38:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":60166,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"743:9:71","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":60172,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"743:49:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":60165,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"735:7:71","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":60164,"name":"uint256","nodeType":"ElementaryTypeName","src":"735:7:71","typeDescriptions":{}}},"id":60173,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"735:58:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"39","id":60174,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"797:1:71","typeDescriptions":{"typeIdentifier":"t_rational_9_by_1","typeString":"int_const 9"},"value":"9"},"src":"735:63:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"arguments":[{"hexValue":"323536","id":60178,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"808:3:71","typeDescriptions":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"},"value":"256"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"}],"id":60177,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"801:6:71","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":60176,"name":"uint16","nodeType":"ElementaryTypeName","src":"801:6:71","typeDescriptions":{}}},"id":60179,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"801:11:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"735:77:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":60181,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"734:79:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"arguments":[{"id":60184,"name":"subjectType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60157,"src":"824:11:71","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"}],"id":60183,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"816:7:71","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":60182,"name":"uint256","nodeType":"ElementaryTypeName","src":"816:7:71","typeDescriptions":{}}},"id":60185,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"816:20:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"734:102:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":60163,"id":60187,"nodeType":"Return","src":"727:109:71"}]},"documentation":{"id":60155,"nodeType":"StructuredDocumentation","src":"199:420:71","text":" @dev Encode \"active\" and subjectType in subject by hashing them together, shifting left 9 bits,\n setting bit 9 (to mark as active) and masking subjectType in\n @param subjectType agents, scanner or future types of stake subject. See SubjectTypeValidator.sol\n @param subject id identifying subject (external to FortaStaking).\n @return ERC1155 token id representing active shares."},"implemented":true,"kind":"function","modifiers":[],"name":"subjectToActive","nameLocation":"633:15:71","parameters":{"id":60160,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60157,"mutability":"mutable","name":"subjectType","nameLocation":"655:11:71","nodeType":"VariableDeclaration","scope":60189,"src":"649:17:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":60156,"name":"uint8","nodeType":"ElementaryTypeName","src":"649:5:71","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":60159,"mutability":"mutable","name":"subject","nameLocation":"676:7:71","nodeType":"VariableDeclaration","scope":60189,"src":"668:15:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60158,"name":"uint256","nodeType":"ElementaryTypeName","src":"668:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"648:36:71"},"returnParameters":{"id":60163,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60162,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60189,"src":"708:7:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60161,"name":"uint256","nodeType":"ElementaryTypeName","src":"708:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"707:9:71"},"scope":60288,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":60219,"nodeType":"FunctionDefinition","src":"1287:207:71","nodes":[],"body":{"id":60218,"nodeType":"Block","src":"1382:112:71","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60216,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60210,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"arguments":[{"id":60204,"name":"subjectType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60192,"src":"1435:11:71","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},{"id":60205,"name":"subject","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60194,"src":"1448:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":60202,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1418:3:71","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":60203,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1422:12:71","memberName":"encodePacked","nodeType":"MemberAccess","src":"1418:16:71","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":60206,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1418:38:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":60201,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1408:9:71","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":60207,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1408:49:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":60200,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1400:7:71","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":60199,"name":"uint256","nodeType":"ElementaryTypeName","src":"1400:7:71","typeDescriptions":{}}},"id":60208,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1400:58:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"39","id":60209,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1462:1:71","typeDescriptions":{"typeIdentifier":"t_rational_9_by_1","typeString":"int_const 9"},"value":"9"},"src":"1400:63:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":60211,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1399:65:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"arguments":[{"id":60214,"name":"subjectType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60192,"src":"1475:11:71","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"}],"id":60213,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1467:7:71","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":60212,"name":"uint256","nodeType":"ElementaryTypeName","src":"1467:7:71","typeDescriptions":{}}},"id":60215,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1467:20:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1399:88:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":60198,"id":60217,"nodeType":"Return","src":"1392:95:71"}]},"documentation":{"id":60190,"nodeType":"StructuredDocumentation","src":"849:433:71","text":" @dev Encode \"inactive\" and subjectType in subject by hashing them together, shifting left 9 bits,\n letting bit 9 unset (to mark as inactive) and masking subjectType in.\n @param subjectType agents, scanner or future types of stake subject. See SubjectTypeValidator.sol\n @param subject id identifying subject (external to FortaStaking).\n @return ERC1155 token id representing inactive shares."},"implemented":true,"kind":"function","modifiers":[],"name":"subjectToInactive","nameLocation":"1296:17:71","parameters":{"id":60195,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60192,"mutability":"mutable","name":"subjectType","nameLocation":"1320:11:71","nodeType":"VariableDeclaration","scope":60219,"src":"1314:17:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":60191,"name":"uint8","nodeType":"ElementaryTypeName","src":"1314:5:71","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":60194,"mutability":"mutable","name":"subject","nameLocation":"1341:7:71","nodeType":"VariableDeclaration","scope":60219,"src":"1333:15:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60193,"name":"uint256","nodeType":"ElementaryTypeName","src":"1333:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1313:36:71"},"returnParameters":{"id":60198,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60197,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60219,"src":"1373:7:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60196,"name":"uint256","nodeType":"ElementaryTypeName","src":"1373:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1372:9:71"},"scope":60288,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":60239,"nodeType":"FunctionDefinition","src":"1718:141:71","nodes":[],"body":{"id":60238,"nodeType":"Block","src":"1800:59:71","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60236,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":60227,"name":"activeSharesId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60222,"src":"1817:14:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"components":[{"id":60234,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"~","prefix":true,"src":"1835:16:71","subExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"},"id":60232,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"31","id":60230,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1844:1:71","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"38","id":60231,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1849:1:71","typeDescriptions":{"typeIdentifier":"t_rational_8_by_1","typeString":"int_const 8"},"value":"8"},"src":"1844:6:71","typeDescriptions":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"}],"id":60229,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1836:7:71","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":60228,"name":"uint256","nodeType":"ElementaryTypeName","src":"1836:7:71","typeDescriptions":{}}},"id":60233,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1836:15:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":60235,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1834:18:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1817:35:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":60226,"id":60237,"nodeType":"Return","src":"1810:42:71"}]},"documentation":{"id":60220,"nodeType":"StructuredDocumentation","src":"1500:213:71","text":" @dev Unsets bit 9 of an activeSharesId to mark as inactive\n @param activeSharesId ERC1155 token id representing active shares.\n @return ERC1155 token id representing inactive shares."},"implemented":true,"kind":"function","modifiers":[],"name":"activeToInactive","nameLocation":"1727:16:71","parameters":{"id":60223,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60222,"mutability":"mutable","name":"activeSharesId","nameLocation":"1752:14:71","nodeType":"VariableDeclaration","scope":60239,"src":"1744:22:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60221,"name":"uint256","nodeType":"ElementaryTypeName","src":"1744:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1743:24:71"},"returnParameters":{"id":60226,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60225,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60239,"src":"1791:7:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60224,"name":"uint256","nodeType":"ElementaryTypeName","src":"1791:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1790:9:71"},"scope":60288,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":60255,"nodeType":"FunctionDefinition","src":"2085:135:71","nodes":[],"body":{"id":60254,"nodeType":"Block","src":"2169:51:71","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60252,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":60247,"name":"inactiveSharesId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60242,"src":"2186:16:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"},"id":60250,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"31","id":60248,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2206:1:71","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"38","id":60249,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2211:1:71","typeDescriptions":{"typeIdentifier":"t_rational_8_by_1","typeString":"int_const 8"},"value":"8"},"src":"2206:6:71","typeDescriptions":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"}}],"id":60251,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2205:8:71","typeDescriptions":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"}},"src":"2186:27:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":60246,"id":60253,"nodeType":"Return","src":"2179:34:71"}]},"documentation":{"id":60240,"nodeType":"StructuredDocumentation","src":"1865:215:71","text":" @dev Sets bit 9 of an inactiveSharesId to mark as inactive\n @param inactiveSharesId ERC1155 token id representing inactive shares.\n @return ERC1155 token id representing active shares."},"implemented":true,"kind":"function","modifiers":[],"name":"inactiveToActive","nameLocation":"2094:16:71","parameters":{"id":60243,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60242,"mutability":"mutable","name":"inactiveSharesId","nameLocation":"2119:16:71","nodeType":"VariableDeclaration","scope":60255,"src":"2111:24:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60241,"name":"uint256","nodeType":"ElementaryTypeName","src":"2111:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2110:26:71"},"returnParameters":{"id":60246,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60245,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60255,"src":"2160:7:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60244,"name":"uint256","nodeType":"ElementaryTypeName","src":"2160:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2159:9:71"},"scope":60288,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":60273,"nodeType":"FunctionDefinition","src":"2401:115:71","nodes":[],"body":{"id":60272,"nodeType":"Block","src":"2466:50:71","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60270,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":60268,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":60263,"name":"sharesId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60258,"src":"2483:8:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"},"id":60266,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"31","id":60264,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2495:1:71","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"38","id":60265,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2500:1:71","typeDescriptions":{"typeIdentifier":"t_rational_8_by_1","typeString":"int_const 8"},"value":"8"},"src":"2495:6:71","typeDescriptions":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"}}],"id":60267,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2494:8:71","typeDescriptions":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"}},"src":"2483:19:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"323536","id":60269,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2506:3:71","typeDescriptions":{"typeIdentifier":"t_rational_256_by_1","typeString":"int_const 256"},"value":"256"},"src":"2483:26:71","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":60262,"id":60271,"nodeType":"Return","src":"2476:33:71"}]},"documentation":{"id":60256,"nodeType":"StructuredDocumentation","src":"2226:170:71","text":" @dev Checks if shares id is active\n @param sharesId ERC1155 token id representing shares.\n @return true if active shares, false if inactive"},"implemented":true,"kind":"function","modifiers":[],"name":"isActive","nameLocation":"2410:8:71","parameters":{"id":60259,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60258,"mutability":"mutable","name":"sharesId","nameLocation":"2427:8:71","nodeType":"VariableDeclaration","scope":60273,"src":"2419:16:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60257,"name":"uint256","nodeType":"ElementaryTypeName","src":"2419:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2418:18:71"},"returnParameters":{"id":60262,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60261,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60273,"src":"2460:4:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":60260,"name":"bool","nodeType":"ElementaryTypeName","src":"2460:4:71","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"2459:6:71"},"scope":60288,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":60287,"nodeType":"FunctionDefinition","src":"2713:116:71","nodes":[],"body":{"id":60286,"nodeType":"Block","src":"2790:39:71","nodes":[],"statements":[{"expression":{"arguments":[{"id":60283,"name":"sharesId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":60276,"src":"2813:8:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":60282,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2807:5:71","typeDescriptions":{"typeIdentifier":"t_type$_t_uint8_$","typeString":"type(uint8)"},"typeName":{"id":60281,"name":"uint8","nodeType":"ElementaryTypeName","src":"2807:5:71","typeDescriptions":{}}},"id":60284,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2807:15:71","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"functionReturnParameters":60280,"id":60285,"nodeType":"Return","src":"2800:22:71"}]},"documentation":{"id":60274,"nodeType":"StructuredDocumentation","src":"2522:186:71","text":" @dev Extracts subject type encoded in shares id\n @param sharesId ERC1155 token id representing shares.\n @return subject type (see SubjectTypeValidator.sol)"},"implemented":true,"kind":"function","modifiers":[],"name":"subjectTypeOfShares","nameLocation":"2722:19:71","parameters":{"id":60277,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60276,"mutability":"mutable","name":"sharesId","nameLocation":"2750:8:71","nodeType":"VariableDeclaration","scope":60287,"src":"2742:16:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":60275,"name":"uint256","nodeType":"ElementaryTypeName","src":"2742:7:71","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2741:18:71"},"returnParameters":{"id":60280,"nodeType":"ParameterList","parameters":[{"constant":false,"id":60279,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":60287,"src":"2783:5:71","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":60278,"name":"uint8","nodeType":"ElementaryTypeName","src":"2783:5:71","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"2782:7:71"},"scope":60288,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"FortaStakingUtils","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[60288],"name":"FortaStakingUtils","nameLocation":"175:17:71","scope":60289,"usedErrors":[],"usedEvents":[]}],"license":"UNLICENSED"},"id":71}